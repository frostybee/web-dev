---
title: Form Submission & Handling in PHP
description: Lecture slides on PHP form processing
draft: true
sidebar:
  label: 'Lecture: Forms'
  order: 4
  badge:
    text: New!
    variant: danger
---

# Form Submission & Handling in PHP
*Computer Science Program - Web Development*

---

## Slide 1: What Are Web Forms?

### Definition
- **Web Forms**: HTML elements that collect user input
- **Purpose**: Enable user interaction with web applications
- **Examples**: Login, registration, contact forms, surveys

### Key Components
- HTML form structure
- Input fields (text, email, password, etc.)
- Submit button
- Server-side processing script

---

## Slide 2: HTTP Methods for Forms

### GET Method
- Data sent in URL parameters
- Visible in browser address bar
- Limited data size (~2048 characters)
- **Use for**: Search forms, filtering

### POST Method  
- Data sent in request body
- Not visible in URL
- No size limitations
- **Use for**: Sensitive data, large forms

---

## Slide 3: HTML Form Structure

```html
<form method="POST" action="process.php">
    <input type="text" name="username" required>
    <input type="email" name="email" required>
    <input type="password" name="password" required>
    <button type="submit">Submit</button>
</form>
```

### Key Attributes
- `method`: GET or POST
- `action`: PHP file to process form
- `name`: Identifies each field for PHP

---

## Slide 4: PHP Superglobals

### $_POST Array
```php
$username = $_POST['username'];
$email = $_POST['email'];
```

### $_GET Array  
```php
$search = $_GET['search'];
$category = $_GET['category'];
```

### $_SERVER Array
```php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Form was submitted via POST
}
```

---

## Slide 5: Form Processing Workflow

### Step-by-Step Process
1. **Detect Submission**: Check if form was submitted
2. **Retrieve Data**: Access form values from superglobals
3. **Validate Input**: Ensure data is valid and safe
4. **Process Data**: Save to database, send emails, etc.
5. **Provide Feedback**: Show success/error messages

---

## Slide 6: Input Validation

### Why Validate?
- **Security**: Prevent malicious input
- **Data Quality**: Ensure correct format
- **User Experience**: Provide helpful feedback

### Common Validations
```php
// Required field
if (empty($username)) {
    $errors[] = "Username is required";
}

// Email validation
if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
    $errors[] = "Valid email required";
}

// Password length
if (strlen($password) < 8) {
    $errors[] = "Password must be 8+ characters";
}
```

---

## Slide 7: Security Considerations

### Input Sanitization
```php
$username = htmlspecialchars($_POST['username']);
$comment = strip_tags($_POST['comment']);
```

### Key Security Practices
- **Never trust user input**
- **Validate on server-side** (client-side is not enough)
- **Use prepared statements** for database queries
- **Escape output** to prevent XSS attacks
- **Implement CSRF protection** for sensitive forms

---

## Slide 8: Post/Redirect/Get (PRG) Pattern

### The Problem
- Form resubmission on page refresh
- Duplicate database entries
- Poor user experience

### The Solution
```php
if ($_SERVER['REQUEST_METHOD'] === 'POST' && $valid_data) {
    // Process the data
    // Redirect to prevent resubmission
    header('Location: success.php');
    exit();
}
```

### Benefits
- Prevents duplicate submissions
- Clean browser history
- Better user experience

---

## Slide 9: Error Handling

### Display Errors to Users
```php
if (!empty($errors)) {
    foreach ($errors as $error) {
        echo "<div class='error'>$error</div>";
    }
}
```

### Preserve Form Data
```php
<input type="text" name="username" 
       value="<?= htmlspecialchars($_POST['username'] ?? '') ?>">
```

### Best Practices
- Show specific, helpful error messages
- Keep valid data in form fields
- Never redirect on validation errors

---

## Slide 10: Complete Example

```php
$errors = [];
$username = $_POST['username'] ?? '';
$email = $_POST['email'] ?? '';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Validate
    if (empty($username)) $errors[] = "Username required";
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) 
        $errors[] = "Valid email required";
    
    // Process if valid
    if (empty($errors)) {
        // Save to database
        // Send confirmation email
        header('Location: success.php');
        exit();
    }
}
```

---

## Slide 11: Key Takeaways

### Remember These Principles
1. **Always validate** user input server-side
2. **Sanitize and escape** all output
3. **Use POST** for sensitive/large data
4. **Implement PRG pattern** to prevent duplicate submissions
5. **Provide clear feedback** for validation errors
6. **Never trust user input** - validate everything

### Next Steps
- Practice with different input types
- Learn about file uploads
- Explore AJAX form submissions
- Study advanced validation techniques



