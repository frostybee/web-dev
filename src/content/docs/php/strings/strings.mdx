---
title: PHP Strings
description: Working with PHP Strings
sidebar:
  label: 'PHP Strings'
  order: 3
---

## What are strings?

- Strings are one of the most fundamental data types in PHP. 
- A string is a sequence of characters that can contain letters, numbers, symbols, and spaces. 
- PHP provides extensive support for **string manipulation** through **built-in functions** and **operators**.

---

## How to Create Strings in PHP

PHP is very flexible and gives you **four different ways** to define a string. Each has its own specific use case, and understanding the difference is key to writing clean and efficient code.

1.  **Single Quoted Strings (`'...'`)**
2.  **Double Quoted Strings (`"..."`)**
3.  **Heredoc Syntax**
4.  **Nowdoc Syntax**


---

### 1. Single Quoted Strings

- Think of single quotes as the "literal" or "what you see is what you get" way to create a string. 
- PHP will not process or interpret almost anything inside single quotes. It takes the characters exactly as they are written.

*   **Variable Parsing:** Variables (`$name`) are **NOT** parsed. They are treated as literal text.
*   **Escape Sequences:** Only two escape sequences are recognized: `\'` (to include a literal single quote) and `\\` (to include a literal backslash).

**Example:**

```php
<?php
$framework = "PHP";

// The variable $framework will NOT be replaced by its value.
$myString = 'I am learning to code in $framework.';
echo $myString; // Outputs: I am learning to code in $framework.

echo '<br>';

// To include a single quote, you must escape it.
$quote = 'He said, \'Hello world!\'';
echo $quote; // Outputs: He said, 'Hello world!'
?>
```

**When to use it:** Use single quotes when you have a simple string with no variables to insert. It's slightly faster because PHP doesn't have to scan it for variables.

---

### 2. Double Quoted Strings

Double quotes are more flexible than single quotes. PHP will actively scan strings defined with double quotes to find variables and replace them with their values. This is called **variable interpolation** or **parsing**.

*   **Variable Parsing:** Variables (`$name`) **ARE** parsed and replaced with their values.
*   **Escape Sequences:** A wide range of escape sequences are recognized, such as `\n` (new line), `\t` (tab), and `\"` (literal double quote).

**Example:**

```php
<?php
$language = "PHP";
$version = 8.2;

// The variables will be replaced with their values.
$myString = "I am learning to code in $language version $version.";
echo $myString; // Outputs: I am learning to code in PHP version 8.2.

echo "<br>";

// You can also use curly braces to be more explicit, which is good practice.
$myStringComplex = "This server is running {$language}!";
echo $myStringComplex; // Outputs: This server is running PHP!
?>
```

**When to use it:** Use double quotes whenever you need to embed the value of a variable directly into a string.

---

### 3. Heredoc Syntax

What if you have a large block of text, like a full HTML template, that spans multiple lines? This is where Heredoc comes in. It behaves just like a double-quoted string (it parses variables) but is designed for multi-line content.

**Syntax Rules (Very Strict!):**

1.  It starts with `<<<` followed by an identifier (e.g., `EOT`, `HTML`, `SQL`).
2.  The opening identifier cannot have any spaces after it.
3.  The string content starts on the next line.
4.  The string ends with the same identifier on a new line, with **no indentation**. The closing identifier must be the only thing on that line, except for an optional semicolon.

**Example:**

```php
<?php
$pageTitle = "Product Page";
$productName = "Wireless Headphones";
$price = 199.99;

$htmlOutput = <<<HTML
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>$pageTitle</title>
</head>
<body>
    <h1>$productName</h1>
    <p>Price: $$price</p>
</body>
</html>
HTML;

echo $htmlOutput;
?>
```

**When to use it:** Use Heredoc when you need to define a multi-line string and need to parse variables inside it (e.g., generating HTML or SQL queries).

---

### 4. Nowdoc Syntax

Nowdoc is to Heredoc what single quotes are to double quotes. It's a multi-line string syntax where **no parsing happens**. It's perfect for blocks of code (like JavaScript or CSS) or text where you don't want any variable interpolation.

The syntax is identical to Heredoc, but the opening identifier is wrapped in single quotes.

**Example:**

```php
<?php
$variable = "This will not be printed";

$jsBlock = <<<'JS'
<script>
    // This is a JavaScript block inside a PHP string.
    // The PHP variable $variable will not be parsed.
    function greet() {
        let message = 'Hello from JavaScript!';
        console.log(message);
    }
    greet();
</script>
JS;

echo $jsBlock;
?>
```

**When to use it:** Use Nowdoc when you have a multi-line block of text that should be treated literally, with no variable parsing.


---

## String Concatenation

### Using the Dot Operator  (.)
```php
$first = "Hello";
$last = "World";
$message = $first . " " . $last; // "Hello World"
```

### Concatenation Assignment (.=)
```php
$message = "Hello";
$message .= " World"; // $message is now "Hello World"
```

---

## String Length and Character Access

### String Length
```php
$text = "Hello World";
$length = strlen($text); // 11

// For multibyte strings
$text = "Héllo Wörld";
$length = mb_strlen($text, 'UTF-8'); // 11
```

### Character Access
```php
$text = "Hello";
$firstChar = $text[0]; // 'H'
$lastChar = $text[strlen($text) - 1]; // 'o'
$thirdChar = $text{2}; // 'l' (curly braces syntax, deprecated)
```

---

## String Manipulation Functions

### Case Conversion
```php
$text = "Hello World";

$upper = strtoupper($text); // "HELLO WORLD"
$lower = strtolower($text); // "hello world"
$title = ucwords($text); // "Hello World"
$sentence = ucfirst(strtolower($text)); // "Hello world"
```

### Trimming
```php
$text = "  Hello World  ";

$trimmed = trim($text); // "Hello World"
$leftTrimmed = ltrim($text); // "Hello World  "
$rightTrimmed = rtrim($text); // "  Hello World"

// Trim specific characters
$text = "...Hello World...";
$cleaned = trim($text, '.'); // "Hello World"
```

### String Searching
```php
$text = "The quick brown fox jumps over the lazy dog";

// Find position of substring
$pos = strpos($text, "fox"); // 16
$pos = stripos($text, "FOX"); // 16 (case-insensitive)

// Check if string contains substring
if (str_contains($text, "fox")) { // PHP 8+
    echo "Found fox!";
}

// Count occurrences
$count = substr_count($text, "the"); // 1
$count = substr_count(strtolower($text), "the"); // 2 (case-insensitive)
```

### String Replacement
```php
$text = "The quick brown fox";

// Replace all occurrences
$newText = str_replace("fox", "dog", $text); // "The quick brown dog"

// Case-insensitive replacement
$newText = str_ireplace("QUICK", "slow", $text); // "The slow brown fox"

// Replace multiple values
$search = ["quick", "brown"];
$replace = ["slow", "black"];
$newText = str_replace($search, $replace, $text); // "The slow black fox"

// Count replacements
$newText = str_replace("fox", "dog", $text, $count);
echo "Made $count replacements";
```

### Substring Operations
```php
$text = "Hello World";

// Extract substring
$sub = substr($text, 0, 5); // "Hello"
$sub = substr($text, 6); // "World"
$sub = substr($text, -5); // "World" (from end)
$sub = substr($text, -5, 3); // "Wor"

// Multibyte substring
$text = "Héllo Wörld";
$sub = mb_substr($text, 0, 5, 'UTF-8'); // "Héllo"
```

---

## String Splitting and Joining

### Explode and Implode
```php
// Split string into array
$csv = "apple,banana,orange";
$fruits = explode(",", $csv); // ["apple", "banana", "orange"]

// Join array into string
$joined = implode(" | ", $fruits); // "apple | banana | orange"

// Limit splits
$text = "one-two-three-four";
$parts = explode("-", $text, 2); // ["one", "two-three-four"]
```

### String Tokenization
```php
$text = "apple,banana;orange:grape";
$token = strtok($text, ",;:");

while ($token !== false) {
    echo $token . "\n";
    $token = strtok(",;:");
}
// Outputs: apple, banana, orange, grape
```

---

## String Formatting

### sprintf Function
```php
$name = "John";
$age = 25;
$formatted = sprintf("Hello, %s! You are %d years old.", $name, $age);
// "Hello, John! You are 25 years old."

// Number formatting
$price = 1234.567;
$formatted = sprintf("Price: $%.2f", $price); // "Price: $1234.57"
```

### printf Function
```php
$name = "Alice";
$score = 95.5;
printf("Student: %-10s Score: %6.2f%%\n", $name, $score);
// Output: "Student: Alice      Score:  95.50%"
```

### Number Formatting
```php
$number = 1234567.89;

$formatted = number_format($number); // "1,234,568"
$formatted = number_format($number, 2); // "1,234,567.89"
$formatted = number_format($number, 2, ",", "."); // "1.234.567,89"
```

---

## Regular Expressions

### Basic Pattern Matching
```php
$text = "The year is 2023";
$pattern = '/\d{4}/'; // Match 4 digits

if (preg_match($pattern, $text, $matches)) {
    echo "Found year: " . $matches[0]; // "Found year: 2023"
}

// Find all matches
preg_match_all('/\d+/', $text, $matches);
print_r($matches[0]); // Array with all numbers
```

### Pattern Replacement
```php
$text = "Call me at 123-456-7890";
$pattern = '/(\d{3})-(\d{3})-(\d{4})/';
$replacement = '($1) $2-$3';
$formatted = preg_replace($pattern, $replacement, $text);
// "Call me at (123) 456-7890"
```

### Input Validation
```php
$email = "user@example.com";
$pattern = '/^[^\s@]+@[^\s@]+\.[^\s@]+$/';

if (preg_match($pattern, $email)) {
    echo "Valid email address";
} else {
    echo "Invalid email address";
}
```

---

## String Encoding and Security

### HTML Escaping
```php
$userInput = '<script>alert("XSS")</script>';
$safe = htmlspecialchars($userInput, ENT_QUOTES, 'UTF-8');
// "&lt;script&gt;alert(&quot;XSS&quot;)&lt;/script&gt;"

$decoded = htmlspecialchars_decode($safe);
// Back to original string
```

### URL Encoding
```php
$url = "Hello World & More";
$encoded = urlencode($url); // "Hello+World+%26+More"
$rawEncoded = rawurlencode($url); // "Hello%20World%20%26%20More"

$decoded = urldecode($encoded); // Back to original
```

### Base64 Encoding
```php
$data = "Hello World";
$encoded = base64_encode($data); // "SGVsbG8gV29ybGQ="
$decoded = base64_decode($encoded); // "Hello World"
```

---

## Multibyte String Handling

### UTF-8 Support
```php
// Set internal encoding
mb_internal_encoding('UTF-8');

$text = "Héllo Wörld";
$length = mb_strlen($text); // Correct length for multibyte
$upper = mb_strtoupper($text); // "HÉLLO WÖRLD"
$sub = mb_substr($text, 0, 5); // "Héllo"
```

### Character Encoding Conversion
```php
$text = "Hello World";
$converted = mb_convert_encoding($text, 'UTF-8', 'ISO-8859-1');

// Detect encoding
$encoding = mb_detect_encoding($text, ['UTF-8', 'ISO-8859-1']);
```

---

## String Comparison

### Basic Comparison
```php
$str1 = "apple";
$str2 = "Apple";

// Case-sensitive comparison
$result = strcmp($str1, $str2); // > 0 (str1 > str2)

// Case-insensitive comparison
$result = strcasecmp($str1, $str2); // 0 (equal)

// Natural order comparison
$files = ["file1.txt", "file10.txt", "file2.txt"];
usort($files, 'strnatcmp');
// Result: ["file1.txt", "file2.txt", "file10.txt"]
```

### String Similarity
```php
$str1 = "programming";
$str2 = "programing";

similar_text($str1, $str2, $percent);
echo "Similarity: " . round($percent, 2) . "%";

// Levenshtein distance
$distance = levenshtein($str1, $str2); // Number of edits needed
```

---

## Advanced String Operations

### String Hashing
```php
$password = "mySecretPassword";

// Simple hash (not secure for passwords)
$md5 = md5($password);
$sha1 = sha1($password);

// Secure password hashing
$hash = password_hash($password, PASSWORD_DEFAULT);
$isValid = password_verify($password, $hash);
```

### String Parsing
```php
// Parse URL
$url = "https://example.com/path?param=value";
$parsed = parse_url($url);
/*
Array(
    [scheme] => https
    [host] => example.com
    [path] => /path
    [query] => param=value
)
*/

// Parse query string
$query = "name=John&age=25&city=New+York";
parse_str($query, $params);
// $params = ["name" => "John", "age" => "25", "city" => "New York"]
```

### String Templating
```php
class StringTemplate {
    public static function render($template, $vars) {
        return preg_replace_callback('/\{\{(\w+)\}\}/', function($matches) use ($vars) {
            return isset($vars[$matches[1]]) ? $vars[$matches[1]] : $matches[0];
        }, $template);
    }
}

$template = "Hello, {{name}}! You are {{age}} years old.";
$vars = ["name" => "John", "age" => 25];
$result = StringTemplate::render($template, $vars);
// "Hello, John! You are 25 years old."
```

---

## Common String Patterns

### CSV Handling
```php
// Reading CSV data
$csvLine = '"John Doe","25","Engineer","New York"';
$data = str_getcsv($csvLine);
// ["John Doe", "25", "Engineer", "New York"]

// Creating CSV data
$data = ["John Doe", "25", "Engineer", "New York"];
$csvLine = '"' . implode('","', $data) . '"';
```

### Path Operations
```php
$path = "/var/www/html/index.php";

$dirname = dirname($path); // "/var/www/html"
$basename = basename($path); // "index.php"
$filename = pathinfo($path, PATHINFO_FILENAME); // "index"
$extension = pathinfo($path, PATHINFO_EXTENSION); // "php"

// Build path
$newPath = $dirname . DIRECTORY_SEPARATOR . "config.php";
```

### JSON String Handling
```php
$data = ["name" => "John", "age" => 25];
$json = json_encode($data); // '{"name":"John","age":25}'

$decoded = json_decode($json, true); // Back to array
$object = json_decode($json); // As stdClass object
```

---

## Performance Considerations

### String Concatenation Performance
```php
// Inefficient for many concatenations
$result = "";
for ($i = 0; $i < 1000; $i++) {
    $result .= "item $i ";
}

// More efficient approach
$items = [];
for ($i = 0; $i < 1000; $i++) {
    $items[] = "item $i";
}
$result = implode(" ", $items);
```
