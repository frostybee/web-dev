---
title: PHP Strings
description: Working with PHP Strings
draft: true
sidebar:
  label: 'PHP Strings'
  order: 3
---

# PHP Strings

Strings are sequences of characters used to store and manipulate text data in PHP. PHP provides extensive support for string operations and offers multiple ways to create, modify, and work with strings.

## Creating Strings

### Single Quotes
Single quotes create literal strings where variables are not interpolated:

```php
<?php
$name = 'John';
$greeting = 'Hello, $name!'; // Outputs: Hello, $name!
echo $greeting;
?>
```

### Double Quotes
Double quotes allow variable interpolation and escape sequences:

```php
<?php
$name = 'John';
$greeting = "Hello, $name!"; // Outputs: Hello, John!
echo $greeting;

// Escape sequences
$text = "Line 1\nLine 2\tTabbed";
echo $text;
?>
```

### Heredoc Syntax
Heredoc allows multi-line strings with variable interpolation:

```php
<?php
$name = 'John';
$age = 30;

$profile = <<<EOT
Name: $name
Age: $age
Welcome to our system!
EOT;

echo $profile;
?>
```

### Nowdoc Syntax
Nowdoc is like heredoc but without variable interpolation:

```php
<?php
$config = <<<'CONFIG'
server_name = localhost
port = 8080
debug = true
CONFIG;

echo $config;
?>
```

## String Concatenation

### Using the Dot Operator
```php
<?php
$firstName = 'John';
$lastName = 'Doe';
$fullName = $firstName . ' ' . $lastName;
echo $fullName; // Outputs: John Doe

// Concatenation assignment
$message = 'Hello';
$message .= ' World';
echo $message; // Outputs: Hello World
?>
```

### Using Variable Interpolation
```php
<?php
$firstName = 'John';
$lastName = 'Doe';
$fullName = "$firstName $lastName";
echo $fullName; // Outputs: John Doe
?>
```

## String Length and Access

### Getting String Length
```php
<?php
$text = 'Hello World';
$length = strlen($text);
echo "Length: $length"; // Outputs: Length: 11

// For multibyte strings
$unicode = 'Héllo Wörld';
$mbLength = mb_strlen($unicode, 'UTF-8');
echo "MB Length: $mbLength";
?>
```

### Accessing Individual Characters
```php
<?php
$text = 'Hello';
echo $text[0]; // Outputs: H
echo $text[1]; // Outputs: e
echo $text[-1]; // Outputs: o (last character, PHP 7.1+)

// Using substr for single character
echo substr($text, 2, 1); // Outputs: l
?>
```

## String Manipulation Functions

### Case Conversion
```php
<?php
$text = 'Hello World';

echo strtoupper($text);    // HELLO WORLD
echo strtolower($text);    // hello world
echo ucfirst($text);       // Hello world
echo ucwords($text);       // Hello World
echo lcfirst($text);       // hello World

// Multibyte versions
echo mb_strtoupper($text, 'UTF-8');
echo mb_strtolower($text, 'UTF-8');
?>
```

### Trimming Whitespace
```php
<?php
$text = '  Hello World  ';

echo trim($text);      // 'Hello World'
echo ltrim($text);     // 'Hello World  '
echo rtrim($text);     // '  Hello World'

// Trim specific characters
$data = '123Hello456';
echo trim($data, '0..9'); // 'Hello'
?>
```

### Substring Operations
```php
<?php
$text = 'Hello World Programming';

// Extract substring
echo substr($text, 6, 5);        // 'World'
echo substr($text, -11, 7);      // 'Program'
echo substr($text, 6);           // 'World Programming'

// Multibyte version
echo mb_substr($text, 6, 5, 'UTF-8');

// Replace substring
echo substr_replace($text, 'PHP', 12); // 'Hello World PHP'
echo substr_replace($text, 'Beautiful', 6, 5); // 'Hello Beautiful Programming'
?>
```

### String Search Functions
```php
<?php
$text = 'Hello World Programming';

// Find position of substring
echo strpos($text, 'World');          // 6
echo strrpos($text, 'o');             // 7 (last occurrence)
echo stripos($text, 'WORLD');         // 6 (case-insensitive)

// Check if string contains substring
if (strpos($text, 'World') !== false) {
    echo "Found 'World' in the string";
}

// Count occurrences
echo substr_count($text, 'o');        // 2
?>
```

### String Replacement
```php
<?php
$text = 'Hello World World';

// Simple replacement
echo str_replace('World', 'PHP', $text);           // 'Hello PHP PHP'
echo str_ireplace('WORLD', 'PHP', $text);          // 'Hello PHP PHP' (case-insensitive)

// Multiple replacements
$search = ['Hello', 'World'];
$replace = ['Hi', 'PHP'];
echo str_replace($search, $replace, $text);        // 'Hi PHP PHP'

// Count replacements
$count = 0;
$result = str_replace('World', 'PHP', $text, $count);
echo "Replaced $count occurrences: $result";
?>
```

### String Splitting and Joining
```php
<?php
$text = 'apple,banana,orange';

// Split string into array
$fruits = explode(',', $text);
print_r($fruits); // Array: [0] => apple, [1] => banana, [2] => orange

// Join array into string
$newText = implode(' | ', $fruits);
echo $newText; // 'apple | banana | orange'

// Split with limit
$limited = explode(',', $text, 2);
print_r($limited); // Array: [0] => apple, [1] => banana,orange
?>
```

## String Formatting

### sprintf Function
```php
<?php
$name = 'John';
$age = 30;
$salary = 5000.50;

// Format string with placeholders
echo sprintf("Name: %s, Age: %d", $name, $age);
echo sprintf("Salary: $%.2f", $salary);

// Padding and alignment
echo sprintf("%10s", $name);     // Right-aligned in 10 characters
echo sprintf("%-10s", $name);    // Left-aligned in 10 characters
echo sprintf("%04d", 42);        // '0042' - zero-padded
?>
```

### Number Formatting
```php
<?php
$number = 1234567.89;

echo number_format($number);               // 1,234,568
echo number_format($number, 2);            // 1,234,567.89
echo number_format($number, 2, '.', ',');  // 1,234,567.89
echo number_format($number, 0, '', ' ');   // 1 234 568
?>
```

## String Validation and Testing

### Character Type Checking
```php
<?php
$text1 = 'Hello123';
$text2 = '12345';
$text3 = 'hello world';

// Check string types
echo ctype_alnum($text1) ? 'Alphanumeric' : 'Not alphanumeric';
echo ctype_digit($text2) ? 'All digits' : 'Not all digits';
echo ctype_alpha($text3) ? 'All letters' : 'Not all letters';
echo ctype_lower($text3) ? 'Lowercase' : 'Not lowercase';
echo ctype_upper($text3) ? 'Uppercase' : 'Not uppercase';
?>
```

### String Comparison
```php
<?php
$str1 = 'Hello';
$str2 = 'hello';
$str3 = 'HELLO';

// Case-sensitive comparison
echo strcmp($str1, $str2);        // > 0 (different)
echo strcmp($str1, $str1);        // 0 (same)

// Case-insensitive comparison  
echo strcasecmp($str1, $str2);    // 0 (same ignoring case)
echo strcasecmp($str1, $str3);    // 0 (same ignoring case)

// Natural order comparison
$files = ['file10.txt', 'file2.txt', 'file1.txt'];
usort($files, 'strnatcmp');
print_r($files); // Sorted naturally
?>
```

## Regular Expressions

### Basic Pattern Matching
```php
<?php
$text = 'Hello World 123';
$email = 'user@example.com';

// Check if pattern matches
if (preg_match('/\d+/', $text)) {
    echo "Found numbers in text";
}

// Extract matches
preg_match('/(\w+)@(\w+\.\w+)/', $email, $matches);
print_r($matches);
// Array: [0] => user@example.com, [1] => user, [2] => example.com

// Find all matches
$text = 'Phone: 123-456-7890, Fax: 098-765-4321';
preg_match_all('/\d{3}-\d{3}-\d{4}/', $text, $matches);
print_r($matches[0]); // All phone numbers
?>
```

### Pattern Replacement
```php
<?php
$text = 'Hello World 123';

// Replace using regex
$result = preg_replace('/\d+/', 'XXX', $text);
echo $result; // 'Hello World XXX'

// Replace with callback
$result = preg_replace_callback('/\d+/', function($matches) {
    return '[' . $matches[0] . ']';
}, $text);
echo $result; // 'Hello World [123]'

// Split by regex
$parts = preg_split('/[\s,]+/', 'apple, banana orange');
print_r($parts); // Array: [0] => apple, [1] => banana, [2] => orange
?>
```

## Advanced String Operations

### String Encoding and Decoding
```php
<?php
$text = 'Hello World!';

// Base64 encoding/decoding
$encoded = base64_encode($text);
echo $encoded; // SGVsbG8gV29ybGQh
$decoded = base64_decode($encoded);
echo $decoded; // Hello World!

// URL encoding/decoding
$url = 'hello world & more';
$encoded = urlencode($url);
echo $encoded; // hello+world+%26+more
$decoded = urldecode($encoded);
echo $decoded; // hello world & more

// Raw URL encoding
$encoded = rawurlencode($url);
echo $encoded; // hello%20world%20%26%20more
?>
```

### String Hashing and Security
```php
<?php
$password = 'mypassword';

// Generate hash
$hash = password_hash($password, PASSWORD_DEFAULT);
echo $hash;

// Verify password
if (password_verify($password, $hash)) {
    echo "Password is correct";
}

// MD5 and SHA1 (not recommended for passwords)
echo md5($password);
echo sha1($password);
echo hash('sha256', $password);
?>
```

### Working with Multibyte Strings
```php
<?php
$japanese = 'こんにちは世界';
$emoji = '🌍🚀⭐';

// Multibyte string length
echo mb_strlen($japanese, 'UTF-8');     // 7
echo mb_strlen($emoji, 'UTF-8');        // 3

// Multibyte substring
echo mb_substr($japanese, 0, 3, 'UTF-8'); // こんに

// Multibyte string position
echo mb_strpos($japanese, '世界', 0, 'UTF-8'); // 5

// Convert encoding
$converted = mb_convert_encoding($japanese, 'ISO-8859-1', 'UTF-8');
?>
```

### String Templates and Interpolation
```php
<?php
// Simple template function
function template($template, $variables) {
    return preg_replace_callback('/\{\{(\w+)\}\}/', function($matches) use ($variables) {
        return isset($variables[$matches[1]]) ? $variables[$matches[1]] : $matches[0];
    }, $template);
}

$template = 'Hello {{name}}, you have {{count}} messages.';
$variables = ['name' => 'John', 'count' => 5];
echo template($template, $variables); // Hello John, you have 5 messages.

// Using sprintf for complex formatting
$template = 'Product: %s, Price: $%.2f, Stock: %d items';
echo sprintf($template, 'Laptop', 999.99, 10);
?>
```

## Best Practices and Performance Tips

### String Performance Considerations
```php
<?php
// Use single quotes when no interpolation is needed
$name = 'John'; // Faster
$name = "John"; // Slower (unnecessary parsing)

// Concatenation vs Interpolation
$greeting1 = 'Hello ' . $name . '!'; // Good for simple cases
$greeting2 = "Hello $name!";         // Better for complex interpolation
$greeting3 = "Hello {$name}!";       // Explicit variable boundaries

// Use arrays for multiple concatenations
$parts = ['Hello', ' ', $name, '!'];
$greeting = implode('', $parts); // More efficient than multiple concatenations

// Avoid repeated string operations in loops
$text = '';
for ($i = 0; $i < 1000; $i++) {
    $text .= 'line ' . $i . "\n"; // Inefficient - string grows each time
}

// Better approach - collect in array first
$lines = [];
for ($i = 0; $i < 1000; $i++) {
    $lines[] = 'line ' . $i;
}
$text = implode("\n", $lines);
?>
```

### Security Best Practices
```php
<?php
// Always validate and sanitize user input
function sanitizeString($input) {
    // Remove HTML tags
    $clean = strip_tags($input);
    
    // Trim whitespace
    $clean = trim($clean);
    
    // Convert special characters
    $clean = htmlspecialchars($clean, ENT_QUOTES, 'UTF-8');
    
    return $clean;
}

// Prepare data for database
function prepareForDatabase($string) {
    // Use prepared statements instead of escaping
    // This is just for demonstration
    return addslashes($string);
}

// Validate email
function isValidEmail($email) {
    return filter_var($email, FILTER_VALIDATE_EMAIL) !== false;
}

// Remove dangerous characters
function sanitizeFilename($filename) {
    return preg_replace('/[^a-zA-Z0-9._-]/', '', $filename);
}
?>
```

### Common String Utilities
```php
<?php
class StringHelper {
    // Convert string to slug
    public static function slugify($text) {
        $text = strtolower($text);
        $text = preg_replace('/[^a-z0-9\s-]/', '', $text);
        $text = preg_replace('/[\s-]+/', '-', $text);
        return trim($text, '-');
    }
    
    // Truncate string with ellipsis
    public static function truncate($text, $length, $suffix = '...') {
        if (strlen($text) <= $length) {
            return $text;
        }
        return substr($text, 0, $length - strlen($suffix)) . $suffix;
    }
    
    // Check if string starts with another string
    public static function startsWith($haystack, $needle) {
        return substr($haystack, 0, strlen($needle)) === $needle;
    }
    
    // Check if string ends with another string
    public static function endsWith($haystack, $needle) {
        return substr($haystack, -strlen($needle)) === $needle;
    }
    
    // Generate random string
    public static function random($length = 10) {
        $characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
        $result = '';
        for ($i = 0; $i < $length; $i++) {
            $result .= $characters[rand(0, strlen($characters) - 1)];
        }
        return $result;
    }
}

// Usage examples
echo StringHelper::slugify('Hello World! This is a Test.'); // hello-world-this-is-a-test
echo StringHelper::truncate('This is a very long text', 10);  // This is...
echo StringHelper::startsWith('Hello World', 'Hello') ? 'Yes' : 'No'; // Yes
echo StringHelper::endsWith('Hello World', 'World') ? 'Yes' : 'No';   // Yes
echo StringHelper::random(8); // Random 8-character string
?>
```

## Conclusion

PHP provides a rich set of string manipulation functions and features that make working with text data efficient and powerful. From basic string creation and concatenation to advanced regular expressions and multibyte string handling, PHP covers all common use cases for string processing.

Key takeaways:
- Use appropriate string creation methods (single quotes, double quotes, heredoc, nowdoc)
- Leverage PHP's extensive built-in string functions for common operations
- Consider performance implications when working with large strings
- Always validate and sanitize user input for security
- Use multibyte functions when working with international characters
- Regular expressions provide powerful pattern matching capabilities

